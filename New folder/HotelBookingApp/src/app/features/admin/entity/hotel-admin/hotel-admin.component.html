<div class="entity-shell">
  <div class="header-row">
    <h2>Hotel Management</h2>
    <button class="add" (click)="toggleAdd()" aria-label="Add">
      <svg viewBox="0 0 24 24"><path d="M19 11H13V5h-2v6H5v2h6v6h2v-6h6z"/></svg>
      Add Hotel
    </button>
  </div>

  <div class="add-form card" *ngIf="showAdd">
    <form (ngSubmit)="addOrUpdate()">
      <div class="grid">
        <label>
          <span>Name</span>
          <input [(ngModel)]="model.name" name="name" required />
        </label>
        <label>
          <span>City</span>
          <input [(ngModel)]="model.city" name="city" />
        </label>
        <label>
          <span>Country</span>
          <input [(ngModel)]="model.country" name="country" />
        </label>
        <label>
          <span>Phone</span>
          <input [(ngModel)]="model.phoneNumber" name="phoneNumber" />
        </label>
        <label class="col-span-2">
          <span>Address</span>
          <input [(ngModel)]="model.address" name="address" />
        </label>
      </div>
      <div class="actions">
        <button type="submit">{{ editing ? 'Update' : 'Add' }}</button>
        <button type="button" class="muted" (click)="resetForm(); showAdd=false">Cancel</button>
      </div>
    </form>
  </div>

  <div class="cards" *ngIf="!loading && !error">
    <div class="card item" *ngFor="let h of hotels">
      <div class="meta">
        <div class="name">{{ h.name }}</div>
        <div class="sub">{{ h.city }}, {{ h.country }}</div>
        <div class="sub">{{ h.address }}</div>
        <div class="sub">Phone: {{ h.phoneNumber }}</div>
        <div class="sub">Rooms: {{ h.roomIds.length || 0 }} | Employees: {{ h.employeeIds.length || 0 }} | Reviews: {{ h.reviewIds.length || 0 }}</div>
      </div>
      <div class="actions">
        <button class="icon" aria-label="Edit" title="Edit" (click)="edit(h)">
          <svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zm14.71-9.04a.996.996 0 0 0 0-1.41l-2.5-2.5a.996.996 0 1 0-1.41 1.41l2.5 2.5c.39.39 1.03.39 1.41 0z"/></svg>
        </button>
        <button class="icon danger" aria-label="Delete" title="Delete" (click)="delete(h)">
          <svg viewBox="0 0 24 24"><path d="M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1z"/></svg>
        </button>
      </div>
    </div>
    <div class="empty" *ngIf="hotels.length === 0">No hotels.</div>
  </div>
  <div class="loading" *ngIf="loading">Loading hotelsâ€¦</div>
  <div class="error" *ngIf="error">{{ error }}</div>
</div>
